{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/thalita.miquiles/Desktop/estoque/stock-management/src/app/products/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface Product {\r\n  name: string;\r\n  quantity: number;\r\n  price: number;\r\n  category: string;\r\n  sold?: boolean;\r\n  soldAt?: string[];\r\n}\r\n\r\nconst ProductListPage = () => {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const storedProducts: Product[] = JSON.parse(localStorage.getItem(\"products\") || \"[]\");\r\n    setProducts(storedProducts);\r\n  }, []);\r\n\r\n  const handleEdit = (index: number) => {\r\n    router.push(`/edit/${index}`);\r\n  };\r\n\r\n  const handleRemove = (index: number) => {\r\n    const confirmDelete = window.confirm(\r\n      \"Você tem certeza que deseja excluir este produto?\"\r\n    );\r\n    if (confirmDelete) {\r\n      const updatedProducts = products.filter((_, i) => i !== index);\r\n      setProducts(updatedProducts);\r\n      localStorage.setItem(\"products\", JSON.stringify(updatedProducts));\r\n    }\r\n  };\r\n\r\n  const marcarUnidadeComoVendida = (index: number) => {\r\n    const atualizados = [...products];\r\n    const produto = atualizados[index];\r\n\r\n    if (produto.quantity > 0) {\r\n      produto.quantity -= 1;\r\n      if (!produto.soldAt) produto.soldAt = [];\r\n      produto.soldAt.push(new Date().toISOString().split(\"T\")[0]);\r\n\r\n      if (produto.quantity === 0) {\r\n        produto.sold = true;\r\n      }\r\n\r\n      setProducts(atualizados);\r\n      localStorage.setItem(\"products\", JSON.stringify(atualizados));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 flex justify-center items-start p-6\">\r\n      <div className=\"w-full max-w-5xl bg-white p-8 rounded-xl shadow-lg mt-20\">\r\n        <h1 className=\"text-3xl font-bold text-center text-[#48754B] mb-6\">\r\n          Listagem de Produtos\r\n        </h1>\r\n\r\n        {products.length === 0 ? (\r\n          <p className=\"text-center text-gray-500\">Nenhum produto cadastrado.</p>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full table-auto border-collapse text-[#966850]\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"px-4 py-2 border-b text-center\">Produto</th>\r\n                  <th className=\"px-4 py-2 border-b text-center\">Quantidade</th>\r\n                  <th className=\"px-4 py-2 border-b text-center\">Preço</th>\r\n                  <th className=\"px-4 py-2 border-b text-center\">Categoria</th>\r\n                  <th className=\"px-4 py-2 border-b text-center\">Vendas</th>\r\n                  <th className=\"px-4 py-2 border-b text-center\">Ações</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {products.map((product, index) => (\r\n                  <tr key={index} className=\"text-center\">\r\n                    <td className=\"px-4 py-2 border-b\">{product.name}</td>\r\n                    <td className=\"px-4 py-2 border-b\">{product.quantity}</td>\r\n                    <td className=\"px-4 py-2 border-b\">\r\n                      {product.price.toLocaleString(\"pt-BR\", {\r\n                        style: \"currency\",\r\n                        currency: \"BRL\",\r\n                      })}\r\n                    </td>\r\n                    <td className=\"px-4 py-2 border-b\">{product.category}</td>\r\n                    <td className=\"px-4 py-2 border-b\">\r\n                      {product.quantity > 0 ? (\r\n                        <button\r\n                          onClick={() => marcarUnidadeComoVendida(index)}\r\n                          className=\"px-3 py-1 bg-green-700 text-white rounded hover:bg-green-600\"\r\n                        >\r\n                          Marcar como vendido\r\n                        </button>\r\n                      ) : (\r\n                        <span className=\"text-green-600 font-semibold\">Esgotado</span>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"px-4 py-2 border-b\">\r\n                      <button\r\n                        onClick={() => handleEdit(index)}\r\n                        className=\"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-400 transition-all text-sm mr-2\"\r\n                      >\r\n                        Editar\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleRemove(index)}\r\n                        className=\"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-400 transition-all text-sm\"\r\n                      >\r\n                        Remover\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductListPage;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}